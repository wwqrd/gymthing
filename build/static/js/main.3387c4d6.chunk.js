(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(54)},43:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(26),r=a.n(c),s=a(56),o=a(10),l=a(29),u=a(7),m=a(22),h=a(30),p=a.n(h),d=[{id:"foo",name:"foo",weight:44,reps:4,sets:3,group:"alpha"},{id:"bar",name:"bar",weight:20,reps:6,sets:3,group:"alpha"},{id:"bazz",name:"bazz",weight:14,reps:8,sets:3,group:"bravo"}];var v=Object(u.b)({exercises:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}}),f={key:"root",storage:p.a},b=Object(m.a)(f,v),k=Object(u.c)(b),E=Object(m.b)(k),g=(a(43),a(5)),O=a(6),j=a(11),x=a(9),w=a(12),y=a(57),S=a(20),T=a(55),_=function(e){var t=e.name;return i.a.createElement("div",null,t)},C=function(e){var t=e.exercises,a=e.group;return i.a.createElement(T.a,{to:"/group/".concat(a)},i.a.createElement("div",null,t.map(_)),i.a.createElement("div",null,a))},N=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(j.a)(this,Object(x.a)(t).call(this,e))).onAddGroup=function(){a.setState({addGroup:!0})},a.state={addGroup:!1},a}return Object(w.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.state.addGroup&&i.a.createElement(y.a,{to:"/group/new"}),i.a.createElement("button",{onClick:this.onAddGroup},"Create new group"),i.a.createElement("div",null,Object(S.map)(this.props.groups,function(e,t){return i.a.createElement(C,{key:t,exercises:e,group:t})})))}}]),t}(n.PureComponent);Object(o.b)(function(e){var t=e.exercises;return{groups:Object(S.groupBy)(t,"group")}})(N);var F=a(31),I=function(e){var t=e.name,a=e.id;return i.a.createElement(T.a,{to:"/exercise/".concat(a)},t)},A=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",null,this.props.exercises.map(function(e){var t=Object(F.a)({},e);return i.a.createElement(I,Object.assign({},t,{key:t.id}))})),i.a.createElement("div",null,this.props.group))}}]),t}(n.PureComponent);Object(o.b)(function(e,t){var a=e.exercises,n=t.match&&t.match.params&&t.match.params.groupId;return{exercises:a.filter(function(e){return e.group===n})}})(A);var D=a(8),P=a(23),R=a(21),q=a.n(R),G=a(15),z={onStart:function(){},onStop:function(){},onReset:function(){},onTick:function(){}},M=function(){function e(t){var a=this;Object(g.a)(this,e),this.setClock=function(e){var t=Object(D.a)({},a.clock,e);a.clock=t},this.start=function(){window.cancelAnimationFrame(a.requestId),a.active&&a.reset(),a.active=!0,a.setClock({start:new Date,time:G.Duration.fromMillis(0)}),a.update(),a.callbacks.onStart(a.clock.time)},this.stop=function(){window.cancelAnimationFrame(a.requestId),a.active=!1,a.callbacks.onStop(a.clock.time)},this.reset=function(){window.cancelAnimationFrame(a.requestId),a.callbacks.onReset(a.clock.time),a.setClock({start:new Date,time:G.Duration.fromMillis(0)})},this.tick=function(){var e=new Date-a.clock.start,t=G.Duration.fromMillis(e);a.callbacks.onTick(t),a.setClock({time:t})},this.update=function(){a.active&&(a.tick(),a.requestId=window.requestAnimationFrame(function(){return a.update()}))},this.toggle=function(){a.active?a.stop():a.start()},this.active=!1,this.clock={start:null,time:G.Duration.fromMillis(0)},this.requestId=null,this.callbacks=Object(D.a)({},z,t)}return Object(O.a)(e,[{key:"time",get:function(){return this.clock.time}}]),e}(),B=function(e){return new M(e)},J=(a(48),function(e){var t=e.time;return i.a.createElement("div",{className:"Timer"},i.a.createElement("div",{className:"Timer__time"},t&&t.toFormat("m:ss")))}),W=(a(50),[["endurance",0,1],["hypertrophy",1,3],["strength",3,5]]),$=function(e){return W.reduce(function(t,a){var n=Object(P.a)(a,3),i=n[0],c=n[1],r=n[2];return e>=c&&e<r&&t.active.push(i),e>=r&&t.complete.push(i),t},{active:[],complete:[]})},H={completedSets:0,active:!1,time:null,phases:{active:[],complete:[]}},K=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(j.a)(this,Object(x.a)(t).call(this,e))).updateTime=function(e){var t=e.as("minutes"),n=$(t);a.setState({time:e,phases:n})},a.handleClick=function(){a.toggle()},a.handleFinishExercise=function(e){e.stopPropagation(),a.finishExercise()},a.handleTimerStart=function(e){a.updateTime(e)},a.handleTimerStop=function(e){a.updateTime(e)},a.handleTimerTick=function(e){a.updateTime(e)},a.handleTimerReset=function(e){a.updateTime(e)},a.renderPhase=function(e){var t=Object(P.a)(e,1)[0],n=a.state.phases,c=n.active,r=n.complete,s=q()("Exercise__phase",{"Exercise__phase--active":c.includes(t),"Exercise__phase--complete":r.includes(t)});return i.a.createElement("div",{className:s},t)},a.clock=B({onTick:a.handleTimerTick,onReset:a.handleTimerReset,onStart:a.handleTimerStart,onStop:a.handleTimerStop}),a.state=Object(D.a)({},H,{time:a.clock.time}),a}return Object(w.a)(t,e),Object(O.a)(t,[{key:"start",value:function(){this.setState({active:!0,phases:{active:[],complete:[]}}),this.clock.start()}},{key:"stop",value:function(){this.clock.stop(),this.clock.reset(),this.setState(Object(D.a)({},H,{completedSets:this.state.completedSets+1,time:this.clock.time}))}},{key:"toggle",value:function(){this.state.active?this.stop():this.start()}},{key:"finishExercise",value:function(){this.clock.stop(),this.clock.reset(),this.setState(Object(D.a)({},H,{completedSets:0,time:this.clock.time}))}},{key:"render",value:function(){var e=q()("Exercise",this.state.phases.active.map(function(e){return"Exercise--phase-".concat(e)}),{"Exercise--active":this.state.active,"Exercise--over-resting":this.isOverResting});return i.a.createElement("div",{className:"".concat(e),onClick:this.handleClick},i.a.createElement("div",{className:"Exercise__meta"},i.a.createElement("div",{className:"Exercise__phases"},W.map(this.renderPhase))),i.a.createElement("div",{className:"Exercise__timer"},i.a.createElement(J,{time:this.state.time})),i.a.createElement("div",{className:"Exercise__progress"},i.a.createElement("div",{className:"Exercise__sets"},"Completed sets: ",this.state.completedSets),i.a.createElement("button",{type:"button",className:"Exercise__finish",onClick:this.handleFinishExercise},"Finish exercise (reset)")))}},{key:"isOverResting",get:function(){return this.state.active&&this.state.phases.complete.length===W.length}}]),t}(n.PureComponent);K.defaultProps={sets:3,weight:0,reps:0};var L=K,Q=Object(o.b)(function(e,t){var a=e.exercises,n=t.match&&t.match.params&&t.match.params.exerciseId,i=a.find(function(e){return e.id===n});return Object(D.a)({},i)})(L),U=a(58),V=a(59),X=(a(52),function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(U.a,null,i.a.createElement(V.a,{exact:!0,path:"/exercise",component:Q}),i.a.createElement(y.a,{to:"/exercise"})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(o.a,{store:k},i.a.createElement(l.a,{loading:null,persistor:E},i.a.createElement(s.a,null,i.a.createElement(X,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.3387c4d6.chunk.js.map